# doc-srv — Сервер корпоративной документации

Легковесный HTTP-сервер на Go для организации, хранения и поиска нормативных документов (PDF). Проект оформлен в корпоративном стиле и поставляется в виде единого исполняемого файла.

## Возможности

*   **Структура**: Автоматическое сканирование папки `docs` и подпапок.
*   **Поиск**: Фильтрация документов по названию на лету (JS).
*   **Описания разделов**: Поддержка `README.md` в папках разделов (рендеринг Markdown в HTML).
*   **Производительность**: Кэширование структуры документов в памяти (обновление раз в 5 минут).
*   **Логирование**: Встроенная ротация логов доступа (`access.log`).
*   **Portable**: Все ресурсы (HTML, CSS) вшиты в бинарный файл.

## Установка и запуск

### Локальный запуск (для разработки)

1.  Склонируйте репозиторий.
2.  Запустите:
    ```bash
    go run .
    ```
3.  Откройте браузер: http://localhost:8080

### Сборка и деплой

Для создания исполняемого файла:

```bash
go build -o doc-srv.exe .
```

**На сервере:**

1.  Скопируйте `doc-srv.exe` на сервер.
2.  Создайте папку `docs` рядом с файлом.
3.  Создайте структуру папок отделов внутри `docs` и наполните их PDF-файлами.
    *   *Опционально*: добавьте `README.md` в папку отдела для красивого описания.
4.  Запустите сервер:
    ```powershell
    .\doc-srv.exe
    ```

### Конфигурация

Параметры запуска:

*   `-port`: Порт сервера (по умолчанию `8080`).
*   `-dir`: Путь к папке с документами (по умолчанию `./docs`).

Пример:
```powershell
.\doc-srv.exe -port 9090 -dir "C:\Data\Docs"
```

## Структура папок (пример)

```text
.
├── doc-srv.exe
├── access.log       # Создается автоматически
└── docs/
    ├── Приказ_1.pdf # Попадет в раздел "Общее"
    ├── HR/
    │   ├── instruction.pdf
    │   └── README.md
    └── IT/
        └── network.pdf
```

## Разработка

Проект использует Go 1.25+.

Запуск тестов:
```bash
go test -v
```
